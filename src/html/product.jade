doctype html
html
	head
		title storeUI Demo - Product
		
		meta(charset="UTF-8")
		meta(name="viewport", content="width=device-width,user-scalable=no,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0")
		
		link(rel="stylesheet", href="../../lib/css/swiper.min.css")
		link(rel="stylesheet", href="../css/storeUI-1.0.css")
	body
		.collection-view
			.product-lockup-cell
				.artwork-view
					.shadow-view
					img(src="https://via.placeholder.com/190x190")
					.border-view
				
				.title-container
					h4 App Name
					h6 App Description
				button.offer-button Get
				
				.product-lockup-badge-stack
					.badge-view
						p.value-label 5.0
						.review-rating-view
							each _ in Array(5)
								.review-rating-star-wrapper
									.background-fill(style="width: 16px")
									.review-rating-star
						p.caption-label 1,000 Ratings
					//- .badge-view.no-padding
					//- 	.review-rating-view.not-enough-ratings
					//- 	p.caption-label Zu wenig Wertungen
						
					.badge-view
						p.value-label 1,000
						p.caption-label Downloads
			
			.product-media-cell.swiper-container#productMedia
				.swiper-wrapper
					each _ in Array(4)
						.screenshot-cell.landscape.swiper-slide
							.artwork-view
								.shadow-view
								img(src="https://via.placeholder.com/414x736")
								.border-view
								
			.product-description-cell
				.expandable-text-view(data-max-lines="3")
					p Der ÖPNV Navigator ist Dein perfekter Begleiter für den Öffentlichen Nah- und Fernverkehr. Egal ob mit Bus oder Bahn, der ÖPNV Nagivator zeigt dir die ideale Route zu deinem gewünschten Zielort an. Dank der Integration von zahlreichen regionalen und überregionalen Verkehrsbetrieben gelangst du zuverlässig an jeden gewünschten Ort. Und mit der intuitiven Routen-Übersicht ist es einfacher denn je, die perfekte Verbindung von A nach B zu finden. Und das allerbeste: die App ist kostenlos und enthält keine nervige In-App-Werbung!
					button.fade-in-button Mehr
				a(href="#").developer-link-cell
					p Developer Name
					span Developer
					
			.title-header-view
				p.title-label Ratings &amp; Reviews
				a.header-button(href="#") See All
				
			.product-rating-cell
				p.current-rating 5.0
				p.out-of-rating of 5
				p.rating-count 1,000 Ratings
				
				.stack-view
					- for (var i=0; i<5; i++)
						.rating-row-view
							.review-rating-view
								- for (var j=0; j<5-i; j++)
									.rating-star
							.rating-progress
								.rating-progress-fill(style="width: 50%")
								
						
		script(src="../../lib/js/swiper.min.js")
		script.
			let swipers = {};
			let swiperConstructors = [{
				id: "productMedia",
				options: {
					roundLengths : 'false',
					slidesPerView :'auto',
					slidesPerViewFit : false,
					spaceBetween: 32,
					breakpoints: {
						414: {
							spaceBetween: 10
						},
						768: {
							spaceBetween: 20
						},
						834: {
							spaceBetween: 22
						},
						1024: {
							spaceBetween: 30
						}
					}
				}
			}];
			
			swiperConstructors.forEach(item => {
				swipers[item["id"]] = new Swiper(document.getElementById(item["id"]), item["options"]);
			});
			
			document.querySelectorAll(".expandable-text-view").forEach(text => {
				if (text.hasAttribute("data-max-lines")) {
					let maxHeight = 19 * parseInt(text.getAttribute("data-max-lines"));
					text.style.maxHeight = `${maxHeight}px`;
					
					if (text.scrollHeight > maxHeight) {
						text.querySelector(".fade-in-button").classList.add("visible");
					} else {
						text.querySelector(".fade-in-button").classList.remove("visible");
					}
				}
			});